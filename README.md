# Multi-Agent Research

ä¸€ä¸ªåŸºäºTypeScriptå’ŒLangGraphçš„MultiAgentæ¶æ„ç ”ç©¶åŠ©æ‰‹ï¼Œç”¨äºè¿›è¡Œæ·±åº¦ç ”ç©¶å’Œä¿¡æ¯æ”¶é›†ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¤– **å¤šä»£ç†åä½œ**: åŸºäºLangGraphå®ç°çš„å¤šä»£ç†åä½œæ¶æ„ï¼Œå„å¸å…¶èŒ
- ğŸ” **æ·±åº¦ç ”ç©¶**: é€šè¿‡è¿­ä»£æœç´¢å’Œä¿¡æ¯å¤„ç†ï¼Œæ·±å…¥æ¢ç´¢å¤æ‚ä¸»é¢˜
- ğŸ“Š **å¯æ§æ·±åº¦å’Œå¹¿åº¦**: è‡ªå®šä¹‰ç ”ç©¶æ·±åº¦å’Œå¹¿åº¦ï¼Œçµæ´»è°ƒæ•´ç ”ç©¶èŒƒå›´
- ğŸŒ **å¤šæœç´¢å¼•æ“æ”¯æŒ**: æ”¯æŒTavily, DuckDuckGo, Bing, Googleç­‰å¤šç§æœç´¢å¼•æ“
- ğŸ“ **é«˜è´¨é‡æŠ¥å‘Š**: è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–çš„ç ”ç©¶æŠ¥å‘Šï¼ŒåŒ…å«å¼•ç”¨å’Œå…³é”®å‘ç°
- ğŸ”„ **é€’å½’ç ”ç©¶æµç¨‹**: åŸºäºåˆå§‹å‘ç°è‡ªåŠ¨æ·±å…¥æ¢ç´¢ç›¸å…³ä¸»é¢˜
- ğŸ“¦ **æœ¬åœ°å­˜å‚¨**: ä½¿ç”¨SQLiteå­˜å‚¨ç ”ç©¶ä»»åŠ¡å’Œæ­¥éª¤ï¼Œæ–¹ä¾¿å›é¡¾å’Œåˆ†æ
- ğŸš€ **APIæœåŠ¡**: æä¾›RESTful APIæ¥å£ï¼Œæ–¹ä¾¿é›†æˆå’Œæ‰©å±•
- ğŸ”Œ **å¤šLLMæä¾›å•†**: æ”¯æŒOpenAIå’ŒDeepSeekï¼Œå¯çµæ´»åˆ‡æ¢ä¸åŒä»£ç†ä½¿ç”¨çš„LLM

## ç³»ç»Ÿæ¶æ„

ç³»ç»Ÿç”±ä»¥ä¸‹å‡ ä¸ªä¸»è¦ä»£ç†ç»„æˆï¼š

1. **åè°ƒè€…(Coordinator)**: ç®¡ç†æ•´ä¸ªç ”ç©¶æµç¨‹ï¼Œå†³å®šä¸‹ä¸€æ­¥è¡ŒåŠ¨
2. **è§„åˆ’è€…(Planner)**: åˆ†æç ”ç©¶é—®é¢˜ï¼Œåˆ¶å®šè¯¦ç»†çš„ç ”ç©¶è®¡åˆ’
3. **ç ”ç©¶å‘˜(Researcher)**: æ‰§è¡Œæœç´¢æŸ¥è¯¢ï¼Œæå–å’Œåˆ†æä¿¡æ¯ï¼ˆé»˜è®¤ä½¿ç”¨DeepSeekï¼‰
4. **æ’°å†™è€…(Writer)**: æ•´åˆæ‰€æœ‰ç ”ç©¶å‘ç°ï¼Œç”Ÿæˆæœ€ç»ˆç ”ç©¶æŠ¥å‘Š

è¿™äº›ä»£ç†é€šè¿‡LangGraphçŠ¶æ€å›¾è¿›è¡Œåä½œï¼Œæ¯ä¸ªä»£ç†åªå…³æ³¨è‡ªå·±çš„ä¸“ä¸šé¢†åŸŸï¼Œå…±åŒå®Œæˆå¤æ‚çš„ç ”ç©¶ä»»åŠ¡ã€‚

è¯¦ç»†æ¶æ„è¯´æ˜è¯·æŸ¥çœ‹ [architecture.md](docs/architecture.md) æ–‡æ¡£ã€‚

## é¡¹ç›®ç»“æ„

```
multi-agent-research/
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â””â”€â”€ architecture.md       # æ¶æ„æ–‡æ¡£
â”œâ”€â”€ src/                      # æºä»£ç 
â”‚   â”œâ”€â”€ agents/               # ä»£ç†å®ç°
â”‚   â”‚   â”œâ”€â”€ baseAgent.ts      # åŸºç¡€ä»£ç†ç±»
â”‚   â”‚   â”œâ”€â”€ coordinator.ts    # åè°ƒè€…ä»£ç†
â”‚   â”‚   â”œâ”€â”€ planner.ts        # è§„åˆ’è€…ä»£ç†
â”‚   â”‚   â”œâ”€â”€ researcher.ts     # ç ”ç©¶å‘˜ä»£ç†
â”‚   â”‚   â”œâ”€â”€ writer.ts         # æ’°å†™è€…ä»£ç†
â”‚   â”‚   â””â”€â”€ index.ts          # ä»£ç†ç´¢å¼•
â”‚   â”œâ”€â”€ config/               # é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts          # é…ç½®åŠ è½½æ¨¡å—
â”‚   â”œâ”€â”€ interfaces/           # æ¥å£å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts          # ç±»å‹å’Œæ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ services/             # æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ database.ts       # æ•°æ®åº“æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ llmClient.ts      # LLMå®¢æˆ·ç«¯æœåŠ¡
â”‚   â”‚   â””â”€â”€ index.ts          # æœåŠ¡ç´¢å¼•
â”‚   â”œâ”€â”€ tools/                # å·¥å…·
â”‚   â”‚   â”œâ”€â”€ scraping.ts       # ç½‘é¡µæŠ“å–å·¥å…·
â”‚   â”‚   â”œâ”€â”€ search.ts         # æœç´¢å·¥å…·
â”‚   â”‚   â””â”€â”€ index.ts          # å·¥å…·ç´¢å¼•
â”‚   â”œâ”€â”€ workflows/            # å·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ researchWorkflow.ts # ç ”ç©¶å·¥ä½œæµ
â”‚   â”‚   â””â”€â”€ index.ts          # å·¥ä½œæµç´¢å¼•
â”‚   â”œâ”€â”€ index.ts              # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ server.ts             # APIæœåŠ¡å™¨
â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ package.json              # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json             # TypeScripté…ç½®
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
```

## å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/multi-agent-research.git
cd multi-agent-research

# å®‰è£…ä¾èµ–
npm install

# åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶æ·»åŠ æ‰€éœ€çš„APIå¯†é’¥

# æ„å»ºé¡¹ç›®
npm run build
```

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œä½¿ç”¨

```bash
# è¿è¡Œç ”ç©¶æµç¨‹
npm run research "äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸçš„åº”ç”¨" --depth 3 --breadth 5

# å¯åŠ¨APIæœåŠ¡å™¨
npm run server

# åˆ›å»ºç ”ç©¶ä»»åŠ¡
npm run create-task "é‡å­è®¡ç®—å¯¹å¯†ç å­¦çš„å½±å“" --depth 2 --breadth 4
```

### APIä½¿ç”¨

å¯åŠ¨æœåŠ¡å™¨åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹APIæ¥å£ä½¿ç”¨ï¼š

- `GET /health` - å¥åº·æ£€æŸ¥
- `GET /api/tasks` - è·å–ä»»åŠ¡åˆ—è¡¨
- `GET /api/tasks/:id` - è·å–æŒ‡å®šä»»åŠ¡è¯¦æƒ…
- `POST /api/tasks` - åˆ›å»ºæ–°ç ”ç©¶ä»»åŠ¡

## é…ç½®

åœ¨`.env`æ–‡ä»¶ä¸­å¯ä»¥é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

```
# OpenAI API Key
OPENAI_API_KEY=your_key_here

# DeepSeek APIé…ç½®
DEEPSEEK_API_KEY=your_deepseek_key_here
DEEPSEEK_API_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# æœç´¢å¼•æ“é…ç½®
SEARCH_API_KEY=your_search_key_here
SEARCH_API_TYPE=tavily  # æ”¯æŒ: tavily, bing, google, duckduckgo

# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# æ¨¡å‹é…ç½®
MODEL_NAME=gpt-4-0125-preview
TEMPERATURE=0.2
```

## LLMæä¾›å•†é›†æˆ

### DeepSeeké›†æˆ

ç³»ç»Ÿé»˜è®¤é…ç½®ç ”ç©¶å‘˜ä»£ç†ä½¿ç”¨DeepSeekæ¨¡å‹ï¼Œå› ä¸ºå®ƒæ“…é•¿å¤„ç†å’Œåˆ†æä¿¡æ¯ã€‚å…¶ä»–ä»£ç†é»˜è®¤ä½¿ç”¨OpenAIã€‚ä½ å¯ä»¥åœ¨`src/config/index.ts`ä¸­çš„`WORKFLOW_CONFIG`ä¿®æ”¹è¿™äº›è®¾ç½®ï¼š

```typescript
providerConfig: {
  coordinator: 'openai',  // åè°ƒè€…ä½¿ç”¨OpenAI
  planner: 'openai',      // è§„åˆ’è€…ä½¿ç”¨OpenAI
  researcher: 'deepseek', // ç ”ç©¶å‘˜ä½¿ç”¨DeepSeek
  writer: 'openai',       // æ’°å†™è€…ä½¿ç”¨OpenAI
}
```

DeepSeek APIä¸OpenAI APIæ ¼å¼å…¼å®¹ï¼Œé€šè¿‡OpenAI SDKè¿›è¡Œè°ƒç”¨ï¼Œåªéœ€é…ç½®ä¸åŒçš„baseURLå’ŒAPI Keyå³å¯ã€‚

## å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼
npm run dev

# è¿è¡Œæµ‹è¯•
npm test

# ä»£ç æ£€æŸ¥
npm run lint
```

## æ‰©å±•æ–¹æ³•

1. æ·»åŠ æ–°å·¥å…·: åœ¨`src/tools`ç›®å½•ä¸‹åˆ›å»ºæ–°å·¥å…·
2. æ·»åŠ æ–°ä»£ç†: åœ¨`src/agents`ç›®å½•ä¸‹å®ç°æ–°ä»£ç†
3. ä¿®æ”¹å·¥ä½œæµ: åœ¨`src/workflows/researchWorkflow.ts`ä¸­ä¿®æ”¹å·¥ä½œæµç¨‹
4. æ·»åŠ æ–°LLMæä¾›å•†: åœ¨`src/services/llmClient.ts`ä¸­å®ç°æ–°çš„å®¢æˆ·ç«¯

## è®¸å¯è¯

MIT 